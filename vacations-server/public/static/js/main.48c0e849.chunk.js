(this["webpackJsonpvacations-client"]=this["webpackJsonpvacations-client"]||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var s,n=a(0),r=a(1),i=a(97),c=a.n(i),o=(a(109),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,264)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))}),l=a(3),u=a(6),d=a(8),p=a(7),h=a(11),m=a(5);a(110);!function(e){e[e.Login=0]="Login",e[e.Logout=1]="Logout",e[e.GetAllVacations=2]="GetAllVacations",e[e.UpdateVacations=3]="UpdateVacations",e[e.ManageVacation=4]="ManageVacation",e[e.DeleteVacation=5]="DeleteVacation",e[e.AddVacation=6]="AddVacation",e[e.EditVacation=7]="EditVacation",e[e.SetSocket=8]="SetSocket"}(s||(s={}));var b=a(98),j=a(103);var f=function e(t,a,s,n,r,i,c){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Object(l.a)(this,e),this.id=t,this.destination=a,this.description=s,this.imageUrl=n,this.startDate=r,this.endDate=i,this.price=c,this.numOfFollowers=o,this.isFollowing=u},v=Object(b.a)((function(e,t){var a=Object(j.a)({},e);switch(t.type){case s.Login:a.isLoggedIn=!0,a.userName=t.payload;break;case s.Logout:a.isLoggedIn=!1,a.userName="";break;case s.GetAllVacations:case s.UpdateVacations:a.vacations=t.payload;break;case s.ManageVacation:a.vacationDetails=t.payload;break;case s.DeleteVacation:a.vacations=a.vacations.filter((function(e){return e.id!==t.payload}));break;case s.AddVacation:a.vacations.push(t.payload);break;case s.EditVacation:var n=t.payload;a.vacations.forEach((function(e,t){e.id===n.id&&(n.isFollowing=e.isFollowing,n.numOfFollowers=e.numOfFollowers,a.vacations.splice(t,1,n))}));break;case s.SetSocket:a.socket=t.payload}return a}),new function e(){Object(l.a)(this,e),this.isLoggedIn=!1,this.userName="",this.vacations=[],this.vacationDetails=new f(null,"","","",new Date,new Date,1),this.socket=void 0}),O=(a(112),a.p+"static/media/observacation.47bf7e90.png"),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.onLogout=function(){var e=v.getState().socket;e&&e.disconnect(),sessionStorage.clear(),v.dispatch({type:s.Logout})},n.state={isLoggedIn:!1},n.unsubscribeStore=v.subscribe((function(){return n.setState({isLoggedIn:v.getState().isLoggedIn})})),n}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"header",children:[sessionStorage.getItem("userToken")&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{children:["Hello, ",sessionStorage.getItem("userName")," "]}),Object(n.jsx)(h.b,{to:"/home",onClick:this.onLogout,children:"logout"})]}),Object(n.jsx)("img",{src:O,alt:"logo"})]})}}]),a}(r.Component),g=a(2),N=a.n(g),y=a(10),S=a(4),k=a.n(S),w=function e(t,a){Object(l.a)(this,e),this.userName=t,this.password=a},C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).setUserName=function(e){var t=e.target.value;s.setState({userName:t})},s.setPassword=function(e){var t=e.target.value;s.setState({password:t})},s.login=function(){var e=Object(y.a)(N.a.mark((function e(t){var a,n,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=new w(s.state.userName,s.state.password),e.next=5,k.a.post("http://34.65.206.19:3001/users/login",a);case 5:n=e.sent,r=n.data,i=k.a.defaults.headers.common.authorization=r.token,sessionStorage.setItem("userToken",i),sessionStorage.setItem("userName",a.userName),"ADMIN"===r.userType?(sessionStorage.setItem("userType","ADMIN"),s.props.history.push("/admin")):"CUSTOMER"===r.userType&&(sessionStorage.setItem("userType","CUSTOMER"),s.props.history.push("/customer")),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),alert(e.t0.response.data.error);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),s.state={userName:"",password:""},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("userToken"),t=sessionStorage.getItem("userType");e&&("CUSTOMER"===t?this.props.history.push("/customer"):this.props.history.push("/admin"))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"login",children:Object(n.jsxs)("form",{onSubmit:this.login,children:[Object(n.jsxs)("div",{className:"form-input-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-user"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",className:"form-input",placeholder:" ",value:this.state.userName,onChange:this.setUserName,name:"username",required:!0}),Object(n.jsx)("label",{className:"form-label",children:"Username"})]})]}),Object(n.jsxs)("div",{className:"form-input-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-lock"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"password",className:"form-input",placeholder:" ",value:this.state.password,onChange:this.setPassword,name:"password",required:!0}),Object(n.jsx)("label",{className:"form-label",children:"Password"})]})]}),Object(n.jsx)("input",{type:"submit",className:"btn",value:"login"}),Object(n.jsx)(h.b,{to:"/register",className:"link",children:"Not a member yet?"})]})})}}]),a}(r.Component),D=a(40),A=a(102),T=(a(164),a(165),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"modal",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsx)("button",{className:"close",onClick:this.props.handleClose,children:"\xd7"}),Object(n.jsxs)("div",{className:"icon-box",children:["success"===this.props.styleType&&Object(n.jsx)("i",{className:"far fa-check-circle"}),"error"===this.props.styleType&&Object(n.jsx)("i",{className:"far fa-exclamation-circle"}),"confirm"===this.props.styleType&&Object(n.jsx)("i",{className:"far fa-question-circle"})]}),Object(n.jsx)("p",{children:this.props.content}),"confirm"===this.props.styleType&&Object(n.jsxs)("div",{className:"confirm",children:[Object(n.jsx)("button",{className:"btn yes",onClick:this.props.handleConfirmYes,children:"YES"}),Object(n.jsx)("button",{className:"btn no",onClick:this.props.handleConfirmNo,children:"NO"})]})]})})}}]),a}(r.Component)),V=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleFollow=function(e){var t=e.target.checked,a=n.props.vacation.id;t?n.followVacation(a):n.unfollowVacation(a);var r=Object(A.a)(v.getState().vacations);r.forEach((function(e){if(e.id===a)return e.isFollowing=t,void(e.numOfFollowers+=t?1:-1)})),v.dispatch({type:s.UpdateVacations,payload:r})},n.followVacation=function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("http://34.65.206.19:3001/vacations/followed_vacations/",{vacationId:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.response.data.error);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),n.unfollowVacation=function(){var e=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.delete("http://34.65.206.19:3001/vacations/followed_vacations/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.response.data.error);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),n.onDeleteVacation=function(){n.openAlert()},n.deleteVacationFromServer=Object(y.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.vacation.id,e.next=4,k.a.delete("http://34.65.206.19:3001/vacations/".concat(t));case 4:v.dispatch({type:s.DeleteVacation,payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.onEdit=function(){v.dispatch({type:s.ManageVacation,payload:n.props.vacation})},n.closeAlert=function(){n.setState({isOpenAlert:!1})},n.openAlert=function(){n.setState({isOpenAlert:!0})},n.state={isOpenAlert:!1},n}return Object(u.a)(a,[{key:"formatDateToString",value:function(e){var t="",a=(e=new Date(e)).getDate(),s=e.getMonth()+1;return a<10&&(t+="0"),t+=a+"/",s<10&&(t+="0"),t+=s+"/",t+=e.getFullYear()}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"vacation-card",children:[this.state.isOpenAlert&&Object(n.jsx)(T,{show:this.state.isOpenAlert,handleClose:this.closeAlert,content:"Are you sure you want to delete this vacation?",styleType:"confirm",handleConfirmYes:this.deleteVacationFromServer,handleConfirmNo:this.closeAlert}),Object(n.jsxs)("div",{className:"top-card-section",children:[this.props.isAdminCard&&Object(n.jsx)("button",{className:"delete-button",onClick:this.onDeleteVacation,children:Object(n.jsx)("i",{className:"fas fa-times"})}),Object(n.jsx)("div",{className:"cover",children:Object(n.jsx)("img",{src:this.props.vacation.imageUrl,alt:""})}),Object(n.jsxs)("div",{className:"followers-label",children:[this.props.vacation.numOfFollowers," Followers"]})]}),Object(n.jsxs)("div",{className:"bottom-card-section",children:[Object(n.jsxs)("div",{className:"circle",children:[!this.props.isAdminCard&&Object(n.jsxs)("label",{className:"follow-checkbox",children:[Object(n.jsx)("input",{type:"checkbox",checked:this.props.vacation.isFollowing,onChange:this.toggleFollow}),Object(n.jsx)("i",{className:"far fa-heart unchecked"}),Object(n.jsx)("i",{className:"fas fa-heart checked"})]}),this.props.isAdminCard&&Object(n.jsx)(h.b,{to:"/manage_vacation",children:Object(n.jsx)("button",{className:"edit-button",onClick:this.onEdit,children:Object(n.jsx)("i",{className:"fas fa-pencil-alt"})})})]}),Object(n.jsx)("h2",{children:this.props.vacation.destination}),Object(n.jsxs)("h4",{children:[this.formatDateToString(this.props.vacation.startDate)," -",this.formatDateToString(this.props.vacation.endDate)]}),Object(n.jsx)("div",{className:"description",children:Object(n.jsx)("p",{children:this.props.vacation.description})}),Object(n.jsx)("div",{className:"price",children:Object(n.jsxs)("h3",{children:[this.props.vacation.price,"$"]})})]})]})}}]),a}(r.Component),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.establishSocketConnection=function(e){var t=Object(D.io)("http://34.65.206.19:3002/",{query:"token="+e}).connect();v.dispatch({type:s.SetSocket,payload:t}),t.on("DELETE_VACATION",(function(e){v.dispatch({type:s.DeleteVacation,payload:+e})})),t.on("ADD_VACATION",(function(e){v.dispatch({type:s.AddVacation,payload:e})})),t.on("EDIT_VACATION",(function(e){v.dispatch({type:s.EditVacation,payload:e})}))},n.getAllVacations=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.a.defaults.headers.common.authorization=t,e.prev=1,e.next=4,k.a.get("http://34.65.206.19:3001/vacations/");case 4:a=e.sent,v.dispatch({type:s.GetAllVacations,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),n.state={vacations:[]},n.unsubscribeStore=v.subscribe((function(){return n.setState({vacations:v.getState().vacations})})),n}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("userToken"),t=sessionStorage.getItem("userType");e?"ADMIN"!==t?(this.establishSocketConnection(e),this.getAllVacations(e)):this.props.history.push("/admin"):this.props.history.push("/home")}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"customer",children:Object(n.jsx)("div",{className:"vacations-cards-container",children:this.state.vacations.sort((function(e,t){return e.isFollowing===t.isFollowing?0:e.isFollowing?-1:1})).map((function(e){return Object(n.jsx)(V,{isAdminCard:!1,vacation:e},e.id)}))})})}}]),a}(r.Component),F=function e(t,a,s,n,r,i){Object(l.a)(this,e),this.userName=t,this.password=a,this.type=s,this.firstName=n,this.lastName=r,this.id=i},U=(a(166),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).setUserName=function(e){var t=e.target.value;s.setState({userName:t})},s.setPassword=function(e){var t=e.target.value;s.setState({password:t})},s.setFirstName=function(e){var t=e.target.value;s.setState({firstName:t})},s.setLastName=function(e){var t=e.target.value;s.setState({lastName:t})},s.register=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=new F(s.state.userName,s.state.password,"CUSTOMER",s.state.firstName,s.state.lastName),e.next=5,k.a.post("http://34.65.206.19:3001/users/",a);case 5:s.openAlert("success","Registration complete! You can login now"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),601===e.t0.response.status&&s.setState({isInvalidUserName:!0}),s.openAlert("error",e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),s.closeAlert=function(){s.setState({isOpenAlert:!1}),"success"==s.state.alertType&&s.props.history.push("/")},s.openAlert=function(e,t){s.setState({isOpenAlert:!0,alertType:e,alertContent:t})},s.state={userName:"",password:"",firstName:"",lastName:"",isInvalidUserName:!1,isOpenAlert:!1,alertType:"",alertContent:""},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("userToken"),t=sessionStorage.getItem("userType");e&&("CUSTOMER"===t?this.props.history.push("/customer"):this.props.history.push("/admin"))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"register",children:[this.state.isOpenAlert&&Object(n.jsx)(T,{show:this.state.isOpenAlert,handleClose:this.closeAlert,content:this.state.alertContent,styleType:this.state.alertType}),Object(n.jsxs)("form",{onSubmit:this.register,children:[Object(n.jsx)("div",{className:"form-input-group",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{id:"username",type:"text",className:"form-input",placeholder:" ",name:"username",value:this.state.userName,onChange:this.setUserName,required:!0}),Object(n.jsx)("label",{className:"form-label",children:"Username"}),this.state.isInvalidUserName&&Object(n.jsx)("div",{className:"icon error-icon",children:Object(n.jsx)("i",{className:"fas fa-exclamation-circle",children:Object(n.jsx)("small",{children:" User name already exists"})})})]})}),Object(n.jsx)("div",{className:"form-input-group",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"password",className:"form-input",placeholder:" ",name:"password",value:this.state.password,onChange:this.setPassword,required:!0}),Object(n.jsx)("label",{className:"form-label",children:"Password"})]})}),Object(n.jsx)("div",{className:"form-input-group",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",className:"form-input",placeholder:" ",name:"firstName",value:this.state.firstName,onChange:this.setFirstName,required:!0}),Object(n.jsx)("label",{className:"form-label",children:"FirstName"})]})}),Object(n.jsx)("div",{className:"form-input-group",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",className:"form-input",placeholder:" ",name:"lastName",value:this.state.lastName,onChange:this.setLastName,required:!0}),Object(n.jsx)("label",{className:"form-label",children:"LastName"})]})}),Object(n.jsx)("input",{type:"submit",className:"btn",value:"register"}),Object(n.jsx)(h.b,{to:"/home",className:"link",children:"Already a member?"})]})]})}}]),a}(r.Component)),M=a.p+"static/media/bar-chart.1608c6bc.svg",E=a.p+"static/media/add.08ff7156.svg",L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).unsubscribeStore=void 0,n.establishSocketConnection=function(e){var t=Object(D.io)("http://34.65.206.19:3002/",{query:"token="+e}).connect();v.dispatch({type:s.SetSocket,payload:t})},n.getAllVacations=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.a.defaults.headers.common.authorization=t,e.prev=1,e.next=4,k.a.get("http://34.65.206.19:3001/vacations/");case 4:a=e.sent,v.dispatch({type:s.GetAllVacations,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),n.state={vacations:[]},n.unsubscribeStore=v.subscribe((function(){return n.setState({vacations:v.getState().vacations})})),n}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"componentDidMount",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("userToken"),a=sessionStorage.getItem("userType"),t){e.next=5;break}return this.props.history.push("/home"),e.abrupt("return");case 5:if("CUSTOMER"!==a){e.next=8;break}return this.props.history.push("/customer"),e.abrupt("return");case 8:this.establishSocketConnection(t),this.getAllVacations(t);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"admin",children:[Object(n.jsxs)("div",{className:"menu",children:[Object(n.jsxs)(h.b,{to:"/manage_vacation",children:[Object(n.jsx)("img",{className:"icon-img",src:E,alt:"chart"}),"Add Vacation"]}),Object(n.jsxs)(h.b,{to:"/reports",children:[Object(n.jsx)("img",{className:"icon-img",src:M,alt:"chart"}),"Reports"]})]}),Object(n.jsx)("div",{className:"vacations-cards-container",children:this.state.vacations.map((function(e){return Object(n.jsx)(V,{isAdminCard:!0,vacation:e},e.id)}))})]})}}]),a}(r.Component),q=a(101),P=(a(261),a.p+"static/media/beach.1f8a236c.svg"),R=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).getFollowingStats=function(){var e=Object(y.a)(N.a.mark((function e(t){var a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.a.defaults.headers.common.authorization=t,e.prev=1,e.next=4,k.a.get("http://34.65.206.19:3001/vacations/followed_vacations/");case 4:a=e.sent,n=a.data.map((function(e){return"Vacation "+e.vacationId})),r=a.data.map((function(e){return e.numOfFollowers})),s.setState({labels:n,data:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),s.randomColorPlugin={beforeUpdate:function(e){for(var t=[],a=[],s=0;s<e.config.data.datasets[0].data.length;s++){var n="rgba("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+",";t.push(n+"0.6)"),a.push(n+"1)")}e.config.data.datasets[0].backgroundColor=t,e.config.data.datasets[0].borderColor=a}},s.state={labels:[],data:[]},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("userToken"),a=sessionStorage.getItem("userType"),t){e.next=5;break}return this.props.history.push("/home"),e.abrupt("return");case 5:if("CUSTOMER"!==a){e.next=8;break}return this.props.history.push("/customer"),e.abrupt("return");case 8:this.getFollowingStats(t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"reports-chart",children:[Object(n.jsx)("div",{className:"menu",children:Object(n.jsxs)(h.b,{to:"/admin",children:[Object(n.jsx)("img",{className:"icon-img",src:P,alt:"chart"}),"Back Home"]})}),Object(n.jsx)(q.Bar,{plugins:[this.randomColorPlugin],data:{labels:this.state.labels,datasets:[{label:"Followers",data:this.state.data,backgroundColor:["#FF6384","#36A2EB","#FFCE56"],borderWidth:2}]},options:{title:{display:!0,text:"Vacations Followers",fontSize:20},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Number of Followers"},ticks:{beginAtZero:!0}}],xAxes:[{scaleLabel:{display:!0,labelString:"Vacation Identifier"}}]},legend:{display:!1},tooltips:{backgroundColor:"rgb(255, 255, 255)",titleFontColor:"rgb(0, 0, 0)",bodyFontStyle:"bold",bodyFontSize:14,displayColors:!1,callbacks:{title:function(e,t){return e.length>0?"Vacation "+e[0].xLabel+": ":""},label:function(e,t){return t.datasets.length>0?e.value+" "+t.datasets[e.datasetIndex].label:""},labelTextColor:function(e,t){var a=e.index,s=new Array;return s.push(t.data.datasets[0].backgroundColor),s[0][a]}}}}})]})}}]),a}(r.Component),_=(a(262),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).setDestination=function(e){var t=e.target.value;n.setState({destination:t})},n.setDescription=function(e){var t=e.target.value;n.setState({description:t})},n.setImageUrl=function(e){var t=e.target.value;n.setState({imageUrl:t})},n.setPrice=function(e){var t=+e.target.value;n.setState({price:t})},n.setStartDate=function(e){var t=new Date(e.target.value);n.setState({startDate:t})},n.setEndDate=function(e){var t=new Date(e.target.value);n.setState({endDate:t})},n.onSaveVacation=function(){var e=Object(y.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(a=new f(n.state.id,n.state.destination,n.state.description,n.state.imageUrl,n.state.startDate,n.state.endDate,n.state.price)).id){e.next=8;break}return e.next=6,k.a.put("http://34.65.206.19:3001/vacations/",a);case 6:e.next=12;break;case 8:return a.id=v.getState().vacations[v.getState().vacations.length-1].id+1,e.next=11,k.a.post("http://34.65.206.19:3001/vacations/",a);case 11:v.dispatch({type:s.AddVacation,payload:a});case 12:n.clearFields(),n.openAlert("success","Successfully saved"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0),n.openAlert("error",e.t0.response.data.error);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),n.clearFields=function(){n.setState({id:null,destination:"",description:"",imageUrl:"",price:1,startDate:new Date,endDate:new Date})},n.onCancel=function(){var e=new f(null,"","","",new Date,new Date,1);v.dispatch({type:s.ManageVacation,payload:e}),n.props.history.push("/admin")},n.closeAlert=function(){n.setState({isOpenAlert:!1})},n.openAlert=function(e,t){n.setState({isOpenAlert:!0,alertType:e,alertContent:t})};var r=v.getState().vacationDetails;return n.state={id:r.id,destination:r.destination,description:r.description,imageUrl:r.imageUrl,price:r.price,startDate:new Date(r.startDate),endDate:new Date(r.endDate),isOpenAlert:!1,alertContent:"",alertType:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("userToken"),t=sessionStorage.getItem("userType");e?"CUSTOMER"!==t?0!==v.getState().vacations.length?k.a.defaults.headers.common.authorization=sessionStorage.getItem("userToken"):this.props.history.push("/admin"):this.props.history.push("/customer"):this.props.history.push("/home")}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"manage-vacation",children:[this.state.isOpenAlert&&Object(n.jsx)(T,{show:this.state.isOpenAlert,handleClose:this.closeAlert,content:this.state.alertContent,styleType:this.state.alertType}),Object(n.jsxs)("form",{onSubmit:this.onSaveVacation,children:[Object(n.jsxs)("div",{className:"form-input-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-map-pin"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",className:"form-input",placeholder:" ",name:"destination",required:!0,value:this.state.destination,onChange:this.setDestination}),Object(n.jsx)("label",{className:"form-label",children:"Destination"})]})]}),Object(n.jsxs)("div",{className:"form-input-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-camera"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",className:"form-input",placeholder:" ",name:"imageUrl",maxLength:250,required:!0,value:this.state.imageUrl,onChange:this.setImageUrl}),Object(n.jsx)("label",{className:"form-label",children:"Image"})]})]}),Object(n.jsxs)("div",{className:"form-input-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-dollar-sign"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"number",className:"form-input",placeholder:" ",name:"price",min:"1",required:!0,value:this.state.price,onChange:this.setPrice}),Object(n.jsx)("label",{className:"form-label",children:"Price"}),Object(n.jsx)("div",{className:"icon error-icon",children:Object(n.jsx)("i",{className:"fas fa-exclamation-circle",children:Object(n.jsx)("small",{children:" must be greater than 0"})})})]})]}),Object(n.jsxs)("div",{className:"form-input-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-calendar-alt"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"date",className:"form-input",placeholder:" ",min:(new Date).toISOString().split("T")[0],value:this.state.startDate.toISOString().split("T")[0],name:"startDate",required:!0,onChange:this.setStartDate}),Object(n.jsx)("label",{className:"form-label",children:"Start Date"})]})]}),Object(n.jsxs)("div",{className:"form-input-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-calendar-alt"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"date",className:"form-input",placeholder:" ",min:this.state.startDate.toISOString().split("T")[0],value:this.state.endDate.toISOString().split("T")[0],name:"endDate",required:!0,onChange:this.setEndDate}),Object(n.jsx)("label",{className:"form-label",children:"End Date"}),Object(n.jsx)("div",{className:"icon error-icon",children:Object(n.jsx)("i",{className:"fas fa-exclamation-circle",children:Object(n.jsx)("small",{children:" must be later than start date"})})})]})]}),Object(n.jsxs)("div",{className:"form-input-group textarea-group",children:[Object(n.jsx)("div",{className:"icon form-icon",children:Object(n.jsx)("i",{className:"fas fa-info"})}),Object(n.jsxs)("div",{className:"form-textarea",children:[Object(n.jsx)("textarea",{className:"form-input",placeholder:" ",name:"description",maxLength:800,required:!0,value:this.state.description,onChange:this.setDescription}),Object(n.jsx)("label",{className:"form-label",children:"Description"})]})]}),Object(n.jsx)("input",{type:"button",className:"btn cancel-btn",value:"Cancel",onClick:this.onCancel}),Object(n.jsx)("input",{type:"submit",className:"btn",value:"Save"})]})]})}}]),a}(r.Component)),z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsx)(h.a,{children:Object(n.jsxs)("section",{className:"layout",children:[Object(n.jsx)("header",{children:Object(n.jsx)(x,{})}),Object(n.jsx)("main",{children:Object(n.jsxs)(m.d,{children:[Object(n.jsx)(m.b,{path:"/home",component:C,exact:!0}),Object(n.jsx)(m.b,{path:"/register",component:U,exact:!0}),Object(n.jsx)(m.b,{path:"/customer",component:I,exact:!0}),Object(n.jsx)(m.b,{path:"/admin",component:L,exact:!0}),Object(n.jsx)(m.b,{path:"/manage_vacation",component:_,exact:!0}),Object(n.jsx)(m.b,{path:"/reports",component:R,exact:!0}),Object(n.jsx)(m.a,{from:"/",to:"/home",exact:!0})]})})]})})}}]),a}(r.Component);c.a.render(Object(n.jsx)(z,{}),document.getElementById("root")),o()}},[[263,1,2]]]);
//# sourceMappingURL=main.48c0e849.chunk.js.map